(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"/udZ":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return s}));var r=n("25b6"),i=n("YFKU");function o(t){if(void 0===t)return Object(i.t)("Unknown error");let e;return e=t instanceof Error?t.message:"object"==typeof t?JSON.stringify(t):t.toString(),Object(r.d)(e)}function c(t){return t instanceof s?Object(r.d)(t.detailedErrorMessage):o(t)}class s extends Error{constructor({detailedErrorMessage:t,userFriendlyMessage:e}){super(e),this.name="UserFriendlyError",this.detailedErrorMessage=t,Object.setPrototypeOf(this,s.prototype)}}},"0W4x":function(t,e,n){"use strict";n.d(e,"b",(function(){return g})),n.d(e,"i",(function(){return x})),n.d(e,"m",(function(){return E})),n.d(e,"j",(function(){return _})),n.d(e,"c",(function(){return y})),n.d(e,"d",(function(){return w})),n.d(e,"f",(function(){return v})),n.d(e,"l",(function(){return F})),n.d(e,"a",(function(){return M})),n.d(e,"h",(function(){return U})),n.d(e,"e",(function(){return S})),n.d(e,"k",(function(){return C})),n.d(e,"g",(function(){return P}));var r=n("YFKU"),i=n("ivNn"),o=n("nc0P"),c=n("JES+"),s=n("EBrf"),u=n("ogJP"),d=n("txPx"),a=n("/udZ");const f={},h={},l={},b={};let p=!1;const O=Object(d.getLogger)("Trading.Utils");function j(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,t=>e[t])}function g(t){const e=[];return t&&Object.keys(t).forEach(n=>{e.push(j(n)+"="+j(t[n]))}),e.join("&")}function x(t){return m(),b[t]}function m(){p||(p=!0,f[2]=Object(r.t)("Market"),f[1]=Object(r.t)("Limit"),f[3]=Object(r.t)("Stop",{context:"order"}),f[4]=Object(r.t)("StopLimit"),h[1]=Object(r.t)("Buy",{context:"trading"}),h[-1]=Object(r.t)("Sell",{context:"trading"}),l[1]=Object(r.t)("Long",{context:"trading"}),l[-1]=Object(r.t)("Short",{context:"trading"}),b[2]=Object(r.t)("filled"),b[1]=Object(r.t)("cancelled"),b[6]=Object(r.t)("working"),b[3]=Object(r.t)("inactive"),b[4]=Object(r.t)("placing"),b[5]=Object(r.t)("rejected"))}function E(t,e){m();const n=h[t];return e?n.toUpperCase():n}function _(t,e){return m(),e?f[t].toUpperCase():f[t]}function y(t,e,n,r,i){const o={added:[],modified:[],removed:[]},c=t.slice(0);return e.forEach(e=>{const s=t.findIndex(t=>t[n]===e[n]);if(-1===s)return void o.added.push(e);c[s]=null;const d=t[s];for(const t of r){let n=!0;if(null===d[t]||"object"!=typeof d[t]?n=d[t]===e[t]:i&&(n=Object(u.deepEquals)(d[t],e[t])[0]),!n)return void o.modified.push(e)}}),c.forEach(t=>{t&&o.removed.push(t)}),o}function w(t){return Math.abs(t||0)<.001?"0.00":Object(s.splitThousands)((t||0).toFixed(2))}function v(t){return-1!==Object.keys(c.OrderOrPositionMessageType).map(t=>c.OrderOrPositionMessageType[t]).indexOf(t)}function F(t,e,n,r){let o=0;const c=Object(i.fixComputationError)(t/e);return(1===n&&1===r||2===n&&-1===r)&&(o=Math.floor(c)*e),(1===n&&-1===r||2===n&&1===r)&&(o=Math.ceil(c)*e),Object(i.fixComputationError)(o)}
const k=Object(r.t)("Failed to login");class M{constructor(t){this._isFinished=!1,this._isTerminated=!1,this._tasks=t}execute(){return this._isTerminated=!1,this._isExecuted()&&!this._isFinished?this.terminate().then(()=>this._execution=this._execute()):this._execution=this._execute()}async terminate(){if(this._isExecuted()&&!this._isFinished){this._isTerminated=!0;try{await this._execution}catch(t){return void O.logWarn(t)}}}_isExecuted(){return!!this._execution}async _execute(){for(const t of this._tasks){if(this._isTerminated)throw new Error("Login tasks are terminated");try{await t()}catch(t){throw this._isFinished=!0,new a.a({detailedErrorMessage:`${k}${T(Object(a.c)(t))}`,userFriendlyMessage:`${k}${T(Object(a.b)(t))}`})}}this._isFinished=!0}}function T(t){return void 0===t||""===t?"":": "+t}function U(t){return(new o.Big(t).toFixed().split(".")[1]||"").length}function S(t){return-1!==[2,1,5].indexOf(t)}function C(t){return m(),l[t]}function P(t,e){return Object(r.t)("You can't trade the symbol {symbol} at TradingView via {broker}.").replace("{symbol}",t).replace("{broker}",e)}},EBrf:function(t,e,n){"use strict";n.r(e),n.d(e,"splitThousands",(function(){return i}));var r=n("ivNn");function i(t,e="&nbsp;"){let n=t+"";-1!==n.indexOf("e")&&(n=function(t){return Object(r.fixComputationError)(t).toFixed(10).replace(/\.?0+$/,"")}(Number(t)));const i=n.split(".");return i[0].replace(/\B(?=(\d{3})+(?!\d))/g,e)+(i[1]?"."+i[1]:"")}}}]);