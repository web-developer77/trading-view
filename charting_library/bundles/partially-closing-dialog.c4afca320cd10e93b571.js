(window.webpackJsonp=window.webpackJsonp||[]).push([["partially-closing-dialog"],{"0W35":function(e,t,n){"use strict";var o=n("q1tI"),i=n("17x9");class s extends o.PureComponent{constructor(){super(...arguments),this._subscriptions=new Set,this._getName=()=>this.props.name,this._getValues=()=>this.props.values,this._getOnChange=()=>this.props.onChange,this._subscribe=e=>{this._subscriptions.add(e)},this._unsubscribe=e=>{this._subscriptions.delete(e)}}getChildContext(){return{switchGroupContext:{getName:this._getName,getValues:this._getValues,getOnChange:this._getOnChange,subscribe:this._subscribe,unsubscribe:this._unsubscribe}}}render(){return this.props.children}componentDidUpdate(e){this._notify(this._getUpdates(this.props.values,e.values))}_notify(e){this._subscriptions.forEach(t=>t(e))}_getUpdates(e,t){return[...t,...e].filter(n=>t.includes(n)?!e.includes(n):e.includes(n))}}function r(e){var t;return(t=class extends o.PureComponent{constructor(){super(...arguments),this._onChange=e=>{this.context.switchGroupContext.getOnChange()(e)},this._onUpdate=e=>{e.includes(this.props.value)&&this.forceUpdate()}}componentDidMount(){this.context.switchGroupContext.subscribe(this._onUpdate)}render(){return o.createElement(e,{...this.props,name:this._getName(),onChange:this._onChange,checked:this._isChecked()})}componentWillUnmount(){this.context.switchGroupContext.unsubscribe(this._onUpdate)}_getName(){return this.context.switchGroupContext.getName()}_isChecked(){return this.context.switchGroupContext.getValues().includes(this.props.value)}}).contextTypes={switchGroupContext:i.any.isRequired},t}s.childContextTypes={switchGroupContext:i.any.isRequired},n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return r}))},E9Pn:function(e,t,n){},F0Qt:function(e){e.exports=JSON.parse('{"wrapper":"wrapper-21v50zE8","input":"input-24iGIobO","box":"box-3574HVnv","icon":"icon-2jsUbtec","noOutline":"noOutline-3VoWuntz","intent-danger":"intent-danger-1Sr9dowC","check":"check-382c8Fu1","dot":"dot-3gRd-7Qt"}')},"P4l+":function(e,t,n){},"R4+T":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 8" width="16" height="8"><path fill="currentColor" d="M0 1.475l7.396 6.04.596.485.593-.49L16 1.39 14.807 0 7.393 6.122 8.58 6.12 1.186.08z"/></svg>'},WncW:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("q1tI"),i=n("tLSG");const s=o.lazy(async()=>({default:(await Promise.all([n.e("react"),n.e(5),n.e(16),n.e(19),n.e(20),n.e(25),n.e(36),n.e(87),n.e(128),n.e(4),n.e(76),n.e("create-confirm-dialog")]).then(n.bind(null,"ycFu"))).AdaptiveConfirmDialog})),r=Object(i.a)(s)},fV0y:function(e,t,n){"use strict";var o=n("q1tI"),i=n("TSYQ"),s=n("0W35"),r=n("vCF3"),a=n("qibD");n("E9Pn");class l extends o.PureComponent{render(){const{inputClassName:e,labelClassName:t,...n}=this.props,s=i(this.props.className,a.checkbox,{[a.reverse]:Boolean(this.props.labelPositionReverse),[a.baseline]:Boolean(this.props.labelAlignBaseline)}),l=i(a.label,t,{[a.disabled]:this.props.disabled});let c=null
;return this.props.label&&(c=o.createElement("span",{className:l,title:this.props.title},this.props.label)),o.createElement("label",{className:s},o.createElement(r.a,{...n,className:e}),c)}}l.defaultProps={value:"on"};Object(s.b)(l);n.d(t,"a",(function(){return l}))},"m6W+":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n("EBrf"),i=n("Ialn");class s{constructor(e=" "){this._divider=e}format(e){const t=Object(o.splitThousands)(e,this._divider);return Object(i.isRtl)()?Object(i.startWithLTR)(t):t}parse(e){const t=Object(i.stripLTRMarks)(e).split(this._divider).join(""),n=Number(t);return isNaN(n)||/e/i.test(t)?{res:!1}:{res:!0,value:n,suggest:this.format(n)}}}},qhWn:function(e,t,n){e.exports={scrollable:"scrollable-yzGChVZZ",content:"content-yzGChVZZ",input:"input-yzGChVZZ",endSlot:"endSlot-yzGChVZZ",message:"message-yzGChVZZ",estimation:"estimation-yzGChVZZ",label:"label-yzGChVZZ"}},qibD:function(e){e.exports=JSON.parse('{"checkbox":"checkbox-3xZUD-2M","reverse":"reverse-3xeTx96y","label":"label-cyItEVpF","baseline":"baseline-6TXKro4X"}')},tUxN:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 9" width="11" height="9" fill="none"><path stroke-width="2" d="M0.999878 4L3.99988 7L9.99988 1"/></svg>'},tmL0:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n("q1tI"),i=n.n(o),s=n("x0D+"),r=n("Eyy1"),a=n("qFKp");function l(e){const{reference:t,children:n,...r}=e,l=Object(o.useRef)(null),u=Object(o.useCallback)(e=>{t&&(t.current=e),a.CheckMobile.iOS()&&(null!==l.current&&Object(s.enableBodyScroll)(l.current),l.current=e,null!==l.current&&Object(s.disableBodyScroll)(l.current,{allowTouchMove:c(l)}))},[t]);return i.a.createElement("div",{ref:u,...r},n)}function c(e){return t=>{const n=Object(r.ensureNotNull)(e.current),o=document.activeElement;return!n.contains(t)||null!==o&&n.contains(o)&&o.contains(t)}}},vCF3:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n("q1tI"),i=n("TSYQ"),s=n("Iivm"),r=n("tUxN"),a=n("F0Qt");n("P4l+");function l(e){const t=i(a.box,a["intent-"+e.intent],{[a.check]:!Boolean(e.indeterminate),[a.dot]:Boolean(e.indeterminate),[a.noOutline]:-1===e.tabIndex}),n=i(a.wrapper,e.className);return o.createElement("span",{className:n,title:e.title},o.createElement("input",{id:e.id,tabIndex:e.tabIndex,className:a.input,type:"checkbox",name:e.name,checked:e.checked,disabled:e.disabled,value:e.value,autoFocus:e.autoFocus,role:e.role,onChange:function(){e.onChange&&e.onChange(e.value)},ref:e.reference}),o.createElement("span",{className:t},o.createElement(s.a,{icon:r,className:a.icon})))}},"x0D+":function(e,t,n){var o,i,s;i=[t],void 0===(s="function"==typeof(o=function(e){"use strict";function t(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(e,"__esModule",{value:!0});var n=!1;if("undefined"!=typeof window){var o={get passive(){n=!0}};window.addEventListener("testPassive",null,o),window.removeEventListener("testPassive",null,o)}
var i="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&/iP(ad|hone|od)/.test(window.navigator.platform),s=[],r=!1,a=-1,l=void 0,c=void 0,u=function(e){return s.some((function(t){return!(!t.options.allowTouchMove||!t.options.allowTouchMove(e))}))},d=function(e){var t=e||window.event;return!!u(t.target)||1<t.touches.length||(t.preventDefault&&t.preventDefault(),!1)},p=function(){setTimeout((function(){void 0!==c&&(document.body.style.paddingRight=c,c=void 0),void 0!==l&&(document.body.style.overflow=l,l=void 0)}))};e.disableBodyScroll=function(e,o){if(i){if(!e)return void console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");if(e&&!s.some((function(t){return t.targetElement===e}))){var p={targetElement:e,options:o||{}};s=[].concat(t(s),[p]),e.ontouchstart=function(e){1===e.targetTouches.length&&(a=e.targetTouches[0].clientY)},e.ontouchmove=function(t){var n,o,i,s;1===t.targetTouches.length&&(o=e,s=(n=t).targetTouches[0].clientY-a,!u(n.target)&&(o&&0===o.scrollTop&&0<s||(i=o)&&i.scrollHeight-i.scrollTop<=i.clientHeight&&s<0?d(n):n.stopPropagation()))},r||(document.addEventListener("touchmove",d,n?{passive:!1}:void 0),r=!0)}}else{h=o,setTimeout((function(){if(void 0===c){var e=!!h&&!0===h.reserveScrollBarGap,t=window.innerWidth-document.documentElement.clientWidth;e&&0<t&&(c=document.body.style.paddingRight,document.body.style.paddingRight=t+"px")}void 0===l&&(l=document.body.style.overflow,document.body.style.overflow="hidden")}));var m={targetElement:e,options:o||{}};s=[].concat(t(s),[m])}var h},e.clearAllBodyScrollLocks=function(){i?(s.forEach((function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null})),r&&(document.removeEventListener("touchmove",d,n?{passive:!1}:void 0),r=!1),s=[],a=-1):(p(),s=[])},e.enableBodyScroll=function(e){if(i){if(!e)return void console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");e.ontouchstart=null,e.ontouchmove=null,s=s.filter((function(t){return t.targetElement!==e})),r&&0===s.length&&(document.removeEventListener("touchmove",d,n?{passive:!1}:void 0),r=!1)}else 1===s.length&&s[0].targetElement===e?(p(),s=[]):s=s.filter((function(t){return t.targetElement!==e}))}})?o.apply(t,i):o)||(e.exports=s)},zSOM:function(e,t,n){"use strict";n.r(t);var o=n("YFKU"),i=n("q1tI"),s=n.n(i),r=n("fV0y"),a=n("nc0P"),l=n("tmL0"),c=n("tWVy"),u=n("/3z9");var d=n("xx2B"),p=n("WncW"),m=n("EBrf"),h=n("qhWn");function b(e){const{positionOrTrade:t,onClose:n,dialogActionHandler:b,qtyFormatter:f,supportLots:v,qtyStep:g,uiQtyStep:y,minQty:w,message:O}=e,E=Object(i.useMemo)(()=>Math.abs(t.qty),[t.qty]),[x,C]=Object(i.useState)(!0),[j,S]=Object(i.useState)(!1),[N,_]=Object(i.useState)(E),[T,q]=Object(i.useState)(!1),[B,k]=Object(i.useState)(!1),[L,P]=Object(i.useState)(),Q=(()=>{const[e,t]=Object(i.useState)(!window.navigator.onLine),n=e=>t("offline"===e.type);return Object(i.useEffect)(()=>(window.addEventListener("online",n),
window.addEventListener("offline",n),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",n)})),e})(),G=!B&&null!==N&&N<E;Object(i.useEffect)(()=>{let e;const t=new a.Big(E),n=null!==N?new a.Big(N):null,i=null==n?void 0:n.minus(w).mod(g);null===n?e=Object(o.t)("Number format is invalid"):n.gt(t)?e=Object(o.t)("Specified value is more than the instrument maximum"):!n.eq(t)&&n.lt(w)?e=Object(o.t)("Specified value is less than the instrument minimum of {minQty}").replace("{minQty}",String(w)):!n.eq(t)&&t.minus(n).lt(w)?e=Object(o.t)("Remaining quantity of position is less than the instrument minimum of {minQty}").replace("{minQty}",String(w)):n.eq(t)||(null==i?void 0:i.eq(0))||(e=Object(o.t)("The specified value is not a multiple of {step}").replace("{step}",String(g))),k(T||void 0!==e),P(e)},[T,N,E,g,w]),Object(i.useEffect)(()=>{Q&&Z()},[Q,Z]);const V=Object(i.useMemo)(()=>null!==N?Object(m.splitThousands)(f.format(N)," "):"",[N,f]),M=Object(i.useMemo)(()=>null!==N?Object(m.splitThousands)(f.format(Number(new a.Big(E).minus(N)))," "):"",[N,E,f]),I=j&&null!==N&&N<E?Object(o.t)("Partially close"):Object(o.t)("Close position");return s.a.createElement(p.a,{isOpen:x,isOpened:x,submitButtonDisabled:j&&B,render:function(){const e=Object(m.splitThousands)(f.format(E)," "),n=Object(o.t)("of {positionQty} lot",{context:"close_position_total",plural:"of {positionQty} lots",count:E}).replace("{positionQty}",e),i=Object(o.t)("of {positionQty} unit",{context:"close_position_total",plural:"of {positionQty} units",count:E}).replace("{positionQty}",e),a=v?n:i;return s.a.createElement(l.a,{className:h.scrollable,onScroll:U},s.a.createElement("div",{className:h.content},s.a.createElement("div",{className:h.message},O),s.a.createElement(r.a,{name:"partially-close-checkbox",label:s.a.createElement("span",{className:h.label},Object(o.t)("Partial close")),checked:j,onChange:W,disabled:!1,indeterminate:!1,labelPositionReverse:!1}),j&&s.a.createElement("form",{onSubmit:F},s.a.createElement(d.a,{error:B,errorMessage:L,errorHandler:D,className:h.input,value:N,useFormatter:!0,formatter:f,forceShowControls:!0,min:w,step:g,uiStep:y,mode:"float",onValueChange:R,onEmptyString:z,endSlot:s.a.createElement("p",{className:h.endSlot},a)}),G&&s.a.createElement("div",{className:h.estimation},s.a.createElement("div",null,Object(o.t)("Partially close {symbol} {quantity}").replace("{symbol}",t.symbol).replace("{quantity}",V)),s.a.createElement("div",null,Object(o.t)("Leaving a position of {leavingQty}").replace("{leavingQty}",M))))))},onClose:Z,title:Object(o.t)("Close position"),onSubmit:F,onCancel:()=>{},onKeyDown:function(e){27===Object(u.hashFromEvent)(e)&&Z()},dataName:"trading-partial-closing-dialog",backdrop:!0,submitOnEnterKey:!0,defaultActionOnClose:"none",submitButtonText:I,cancelButtonText:Object(o.t)("Cancel")});function W(){S(e=>!e)}function Z(){C(!1),b({status:!1}),n()}function F(){b(j?null===N||B?{status:!1}:{status:!0,qty:N}:{status:!0,qty:E}),C(!1),n()}function R(e){_(e)}function z(){_(null)}function D(e){q(e)}
function U(){c.a.fire()}}n.d(t,"PartiallyClosingDialog",(function(){return b}))}}]);