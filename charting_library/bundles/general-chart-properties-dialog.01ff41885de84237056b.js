(window.webpackJsonp=window.webpackJsonp||[]).push([["general-chart-properties-dialog"],{"++0f":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="none"><path stroke="currentcolor" stroke-width="1.3" d="M12 9l5 5-5 5"/></svg>'},"2x13":function(e,t,n){e.exports={wrapper:"wrapper-DggvOZTm",container:"container-DggvOZTm",tab:"tab-DggvOZTm",active:"active-DggvOZTm",title:"title-DggvOZTm",icon:"icon-DggvOZTm",titleText:"titleText-DggvOZTm",nested:"nested-DggvOZTm",isTablet:"isTablet-DggvOZTm",isMobile:"isMobile-DggvOZTm"}},An2S:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return u}));var a=n("q1tI"),i=n.n(a),l=n("TSYQ"),o=n.n(l),s=n("Iivm"),r=n("++0f"),c=n("2x13");function m(e){return{isMobile:"mobile"===e,isTablet:"tablet"===e}}function d(e){const{mode:t,className:n,...a}=e,{isMobile:l,isTablet:s}=m(t),r=o()(c.container,s&&c.isTablet,l&&c.isMobile,n);return i.a.createElement("div",{...a,className:r,"data-role":"dialog-sidebar"})}function h(e){return i.a.createElement("div",{className:c.wrapper,...e})}function u(e){const{mode:t,title:n,icon:a,isActive:l,onClick:d,...h}=e,{isMobile:u,isTablet:p}=m(t);return i.a.createElement("div",{...h,className:o()(c.tab,p&&c.isTablet,u&&c.isMobile,l&&c.active),onClick:d},i.a.createElement(s.a,{className:c.icon,icon:a}),!p&&i.a.createElement("span",{className:c.title},i.a.createElement("span",{className:c.titleText},n),u&&i.a.createElement(s.a,{className:c.nested,icon:r})))}},PI1I:function(e,t,n){"use strict";n.r(t);n("YFKU");var a=n("q1tI"),i=n("i8i4"),l=n("mwqF"),o=n("bvfV"),s=n("ycFu"),r=n("ybVX"),c=n("Q+1u"),m=n("Vdly"),d=n.n(m),h=n("VNzU"),u=n("/KDZ"),p=(n("bSeV"),n("K+KL")),b=n("N5tr"),g=n("KKsp"),y=n("Iivm"),C=n("EsvI"),v=(n("HbRj"),n("fZEr"));const T=window.t("Do you really want to delete Color Theme '{name}' ?");var S=n("+EG+"),f=n("2uTr"),_=n("i/MG"),A=n("JWMC"),k=n("8d0Q"),w=n("8+VR"),E=n("utEQ");function B(e){const{themeName:t,chartWidgetCollection:n,onRemove:i,manager:l}=e,[o,s]=Object(k.c)(),r=a.useCallback(()=>function(e,t,n){window.is_authenticated&&Object(v.showConfirm)({text:T.format({name:e}),onConfirm:({dialogClose:n})=>{Object(C.removeTheme)(e),t&&t(e),n()}},n)}(t,i,l),[t,i,l]),c=a.useCallback(()=>{Object(C.loadTheme)(t,!1,!1,n).then(()=>{window.saver.saveChartSilently(),Object(A.trackEvent)("GUI","Switch to custom theme")})},[t,n]);return a.createElement("div",{...s},a.createElement(b.b,{className:E.defaultsButtonItem,isActive:!1,label:t,onClick:c,toolbox:a.createElement(_.a,{hidden:!w.mobiletouch&&!o,onClick:r})}))}var I=n("HWhk");const P=window.t("Template"),N=window.t("Apply Defaults"),x=(Object(f.appendEllipsis)(window.t("Save As")),window.t("Apply to all"));class D extends a.PureComponent{constructor(e){super(e),this._manager=null,this._handleApplyDefaults=()=>{const{model:e,chartWidgetCollection:t}=this.props;e.restorePreferences();const n=Object(C.getCurrentTheme)().name;Object(C.loadTheme)(n,!0,!0,t,void 0,void 0,!0)},
this._handleSaveAs=()=>{0},this._handleRemoveTheme=e=>{this.setState({themes:this.state.themes.filter(t=>t!==e)})},this._syncThemeList=()=>{0},this.state={themes:[]},this._syncThemeList()}render(){return a.createElement(S.b.Consumer,null,e=>(this._manager=e,a.createElement(u.a,{rule:"screen and (max-width: 768px)"},e=>a.createElement(p.a,{id:"series-theme-manager",className:!e&&E.themesButtonText,hideArrowButton:e,"data-name":"theme-select",buttonChildren:this._getPlaceHolderItem(e)},this._getThemeItems(e)))))}_getPlaceHolderItem(e){return e?a.createElement(y.a,{className:E.themesButtonIcon,icon:I}):P}_getThemeItems(e){const{isApplyToAllVisible:t,chartWidgetCollection:n,applyToAllCallback:i}=this.props,{themes:l}=this.state;return a.createElement(a.Fragment,null,e&&t&&a.createElement(b.b,{className:E.defaultsButtonItem,isActive:!1,label:x,onClick:i}),a.createElement(b.b,{className:E.defaultsButtonItem,isActive:!1,label:N,onClick:this._handleApplyDefaults}),!1,l.length>0&&a.createElement(a.Fragment,null,a.createElement(g.a,{key:"separator"}),l.map(e=>a.createElement(B,{key:e,themeName:e,onRemove:this._handleRemoveTheme,chartWidgetCollection:n,manager:this._manager}))))}}var M=n("tWVy"),z=n("yqnI"),V=n("uhCe"),O=n("An2S"),L=n("tmL0");const W={areaSymbolMinTick:"normal",areaSymbolTimezone:"normal",barSymbolMinTick:"normal",barSymbolTimezone:"normal",baselineSymbolMinTick:"normal",baselineSymbolTimezone:"normal",candleSymbolMinTick:"normal",candleSymbolTimezone:"normal",dateFormat:"normal",haSymbolMinTick:"normal",haSymbolTimezone:"normal",hiloSymbolMinTick:"normal",hiloSymbolTimezone:"normal",hollowCandleSymbolMinTick:"normal",hollowCandleSymbolTimezone:"normal",kagiAtrLength:"normal",kagiReversalAmount:"normal",kagiStyle:"normal",kagiSymbolMinTick:"normal",kagiSymbolTimezone:"normal",lineSymbolMinTick:"normal",lineSymbolTimezone:"normal",sessionId:"normal",lockScale:"normal",mainSeriesSymbolAreaPriceSource:"normal",mainSeriesSymbolBaseLevelPercentage:"normal",mainSeriesSymbolBaseLinePriceSource:"normal",mainSeriesSymbolLinePriceSource:"normal",mainSeriesSymbolStyleType:"normal",navButtons:"big",paneButtons:"big",pbLb:"normal",pbSymbolMinTick:"normal",pbSymbolTimezone:"normal",pnfAtrLength:"normal",pnfBoxSize:"normal",pnfReversalAmount:"normal",pnfSources:"normal",pnfStyle:"normal",pnfSymbolMinTick:"normal",pnfSymbolTimezone:"normal",rangeSymbolMinTick:"normal",rangeSymbolTimezone:"normal",renkoAtrLength:"normal",renkoBoxSize:"normal",renkoStyle:"normal",renkoSymbolMinTick:"normal",renkoSymbolTimezone:"normal",scalesPlacement:"normal",symbolLastValueLabel:"big",symbolTextSource:"normal"};var R=n("yMyk"),j=n("U0JK");function F(e){return a.createElement(y.a,{className:R.backButton,icon:j,onClick:e.onClick})}var K=n("sXZi");class Z extends a.PureComponent{constructor(e){super(e),this._renderChildren=({requestResize:e,isSmallWidth:t})=>(this._requestResize=e,a.createElement("div",{className:K.content},this._renderTabs(t),this._renderTabContent(t))),this._renderApplyToAllButton=()=>a.createElement(u.a,{rule:V.a.TabletNormal
},e=>this._renderApplyToAll(e)),this._renderFooterLeft=()=>{const{model:e,chartWidgetCollection:t}=this.props,{isApplyToAllVisible:n}=this.state;return a.createElement(D,{model:e,isApplyToAllVisible:n,applyToAllCallback:this._handleApplyToAll,chartWidgetCollection:t})},this._createTabClickHandler=e=>()=>this._selectPage(e),this._selectPage=e=>{const{activePage:t}=this.state;e!==t&&(t&&t.definitions.unsubscribe(this._onChangeActivePageDefinitions),d.a.setValue("properties_dialog.last_page_id",e.id),e.definitions.subscribe(this._onChangeActivePageDefinitions),this.setState({activePage:e,tableKey:Date.now()},()=>{this._requestResize&&this._requestResize()}))},this._onChangeActivePageDefinitions=()=>{z.a.logNormal("Definition collection was updated"),this.setState({tableKey:Date.now()},()=>{this._requestResize&&this._requestResize()})},this._handleCancel=()=>{this.props.onCancel(),this.props.onClose()},this._handleSubmit=()=>{this.props.onSubmit(),this.props.onClose()},this._handleScroll=()=>{M.a.fire()},this._handleApplyToAll=()=>{const{chartWidgetCollection:e,model:t}=this.props,{isApplyToAllVisible:n}=this.state;n&&e.applyPreferencesToAllCharts(t)},this._syncApplyToAllVisibility=()=>{const{chartWidgetCollection:e}=this.props;this.setState({isApplyToAllVisible:Object(h.isMultipleLayout)(e.layout.value())})},this._handleBackClick=()=>{const{activePage:e}=this.state;e&&e.definitions.unsubscribe(this._onChangeActivePageDefinitions),this.setState({activePage:null})};const{pages:t,activePageId:n}=e;let i=t.find(e=>e.id===n);if(!i){const e=d.a.getValue("properties_dialog.last_page_id"),n=t.find(t=>t.id===e);i=n||t[0]}this.state={activePage:i,isApplyToAllVisible:Object(h.isMultipleLayout)(e.chartWidgetCollection.layout.value()),tableKey:Date.now()}}componentDidMount(){const{chartWidgetCollection:e}=this.props,{activePage:t}=this.state;e.layout.subscribe(this._syncApplyToAllVisibility),t&&t.definitions.subscribe(this._onChangeActivePageDefinitions)}componentWillUnmount(){const{chartWidgetCollection:e}=this.props,{activePage:t}=this.state;t&&t.definitions.unsubscribe(this._onChangeActivePageDefinitions),e.layout.unsubscribe(this._syncApplyToAllVisibility)}render(){const{isOpened:e,onClose:t}=this.props,{activePage:n}=this.state;return a.createElement(u.a,{rule:V.a.TabletSmall},i=>a.createElement(s.AdaptiveConfirmDialog,{className:K.withSidebar,dataName:"series-properties-dialog",onClose:t,isOpened:e,title:null!==n&&i?n.title:window.t("Chart settings"),footerLeftRenderer:this._renderFooterLeft,additionalButtons:this._renderApplyToAllButton(),additionalHeaderElement:null!==n&&i?a.createElement(F,{onClick:this._handleBackClick}):void 0,onSubmit:this._handleSubmit,onCancel:this._handleCancel,render:this._renderChildren,submitOnEnterKey:!1}))}_renderTabContent(e){const{pages:t}=this.props,n=this._getCurrentPage(e);if(n){const e=t.find(e=>e.id===n.id),i=e?e.definitions.value():[];return a.createElement(L.a,{className:K.tabContent,onScroll:this._handleScroll},a.createElement(r.b.Provider,{value:W},a.createElement(c.a,{
key:this.state.tableKey},i.map(e=>a.createElement(o.a,{key:e.id,definition:e})))))}return null}_renderTabs(e){const{pages:t}=this.props,{activePage:n}=this.state;if(n&&e)return null;const i=this._getCurrentPage(e);return a.createElement(u.a,{rule:V.a.TabletNormal},e=>a.createElement(u.a,{rule:V.a.TabletSmall},n=>{const l=n?"mobile":e?"tablet":void 0;return a.createElement(O.a,{mode:l,onScroll:this._handleScroll},t.map(e=>a.createElement(O.b,{key:e.id,mode:l,"data-name":e.id,title:e.title,icon:e.icon,onClick:this._createTabClickHandler(e),isActive:i?e.id===i.id:void 0})))}))}_renderApplyToAll(e){const{isApplyToAllVisible:t}=this.state;return!e&&t&&a.createElement("span",{className:K.applyToAllButton},a.createElement(l.a,{appearance:"stroke",onClick:this._handleApplyToAll},window.t("Apply to all")))}_getCurrentPage(e){const{pages:t}=this.props,{activePage:n}=this.state;let a=null;return n?a=n:!e&&t.length&&(a=t[0]),a}}var H=n("FQhm"),q=n("sQaR");n.d(t,"GeneralChartPropertiesDialogRenderer",(function(){return Q}));const U=window.t("Chart settings");class Q extends q.a{constructor(e){super(),this._handleClose=()=>{i.unmountComponentAtNode(this._container),this._setVisibility(!1),this._onClose&&this._onClose()},this._handleSubmit=()=>{},this._handleCancel=()=>{this._model.undoToCheckpoint(this._checkpoint)},this._propertyPages=e.propertyPages,this._model=e.model,this._activePageId=e.activePageId,this._onClose=e.onClose,this._chartWidgetCollection=e.chartWidgetCollection,this._checkpoint=this._ensureCheckpoint(e.undoCheckPoint)}hide(e){e?this._handleCancel():this._handleSubmit(),this._handleClose()}isVisible(){return this.visible().value()}show(){i.render(a.createElement(Z,{title:U,isOpened:!0,onSubmit:this._handleSubmit,onClose:this._handleClose,onCancel:this._handleCancel,pages:this._propertyPages,model:this._model,activePageId:this._activePageId,chartWidgetCollection:this._chartWidgetCollection}),this._container),this._setVisibility(!0),H.emit("edit_object_dialog",{objectType:"mainSeries",scriptTitle:this._model.mainSeries().title()})}_ensureCheckpoint(e){return void 0===e&&(e=this._model.createUndoCheckpoint()),e}}},To8B:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18"><path fill="currentColor" d="M9.707 9l4.647-4.646-.707-.708L9 8.293 4.354 3.646l-.708.708L8.293 9l-4.647 4.646.708.708L9 9.707l4.646 4.647.708-.707L9.707 9z"/></svg>'},WboT:function(e,t,n){"use strict";var a=n("q1tI"),i=n.n(a),l=n("8+VR"),o=n("zcN6"),s=n("TSYQ"),r=n("YFKU"),c=n("Iivm"),m=n("R4+T"),d=n("uZsJ");function h(e){const t=s(d.control,d.controlIncrease),n=s(d.control,d.controlDecrease);return a.createElement(a.Fragment,null,void 0!==e.title&&a.createElement("div",{className:d.title},e.title),a.createElement("div",{className:d.controlWrapper},(e.defaultButtonsVisible||e.title)&&a.createElement(a.Fragment,null,a.createElement("button",{type:"button",tabIndex:-1,"aria-label":Object(r.t)("Increase"),className:t,onClick:e.increaseValue},a.createElement(c.a,{icon:m,className:d.controlIcon
})),a.createElement("button",{type:"button",tabIndex:-1,"aria-label":Object(r.t)("Increase"),className:n,onClick:e.decreaseValue},a.createElement(c.a,{icon:m,className:d.controlIcon})))))}var u=n("8d0Q"),p=n("SpAO"),b=n("3F0O"),g=n("/3z9");n.d(t,"a",(function(){return v}));const y=[38],C=[40];function v(e){const[t,n]=Object(u.c)(),[s,r]=Object(p.a)(),c=Object(b.a)(r.onFocus,e.onFocus),m=Object(b.a)(r.onBlur,e.onBlur),d=Object(a.useCallback)(t=>{!e.disabled&&s&&(t.preventDefault(),t.deltaY<0?e.onValueByStepChange(1):e.onValueByStepChange(-1))},[s,e.disabled,e.onValueByStepChange]);return i.a.createElement(o.a,{...n,name:e.name,pattern:e.pattern,borderStyle:e.borderStyle,fontSizeStyle:e.fontSizeStyle,value:e.value,className:e.className,inputClassName:e.inputClassName,button:function(){const{button:n,forceShowControls:a,disabled:o,title:r}=e,c=!o&&!l.mobiletouch&&(a||s||t);return o?void 0:i.a.createElement(i.a.Fragment,null,null!=n?n:i.a.createElement(h,{increaseValue:v,decreaseValue:T,defaultButtonsVisible:c,title:r}))}(),disabled:e.disabled,placeholder:e.placeholder,innerLabel:e.innerLabel,endSlot:e.endSlot,containerReference:e.containerReference,inputReference:e.inputReference,inputMode:e.inputMode,type:e.type,error:e.error,errorMessage:e.errorMessage,onClick:e.onClick,onFocus:c,onBlur:m,onChange:e.onValueChange,onKeyDown:function(t){if(e.disabled||0!==Object(g.modifiersFromEvent)(t.nativeEvent))return;let n=y,a=C;e.controlDecKeyCodes&&(a=a.concat(e.controlDecKeyCodes));e.controlIncKeyCodes&&(n=n.concat(e.controlIncKeyCodes));(a.includes(t.keyCode)||n.includes(t.keyCode))&&(t.preventDefault(),e.onValueByStepChange(a.includes(t.keyCode)?-1:1));e.onKeyDown&&e.onKeyDown(t)},onWheelNoPassive:d,stretch:e.stretch,intent:e.intent,highlight:e.highlight,highlightRemoveRoundBorder:e.highlightRemoveRoundBorder,autoSelectOnFocus:!0});function v(){e.disabled||e.onValueByStepChange(1)}function T(){e.disabled||e.onValueByStepChange(-1)}}},"ZgM/":function(e,t,n){e.exports={innerLabel:"innerLabel-21h1g6jU"}},sXZi:function(e,t,n){e.exports={"tablet-normal-breakpoint":"screen and (max-width: 768px)","tablet-small-breakpoint":"screen and (max-width: 428px)",withSidebar:"withSidebar-1e-cIUlp",content:"content-1e-cIUlp",tabContent:"tabContent-1e-cIUlp",applyToAllButton:"applyToAllButton-1e-cIUlp"}},uZsJ:function(e,t,n){e.exports={controlWrapper:"controlWrapper-7ApHzdB4",hidden:"hidden-7ApHzdB4",control:"control-7ApHzdB4",controlIncrease:"controlIncrease-7ApHzdB4",controlDecrease:"controlDecrease-7ApHzdB4",controlIcon:"controlIcon-7ApHzdB4",title:"title-7ApHzdB4"}},utEQ:function(e,t,n){e.exports={themesButtonText:"themesButtonText-3vn5WLwC",themesButtonIcon:"themesButtonIcon-3vn5WLwC",defaultsButtonText:"defaultsButtonText-3vn5WLwC",defaultsButtonItem:"defaultsButtonItem-3vn5WLwC"}},yMyk:function(e,t,n){e.exports={backButton:"backButton-ukxmTk5_"}},zcN6:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("q1tI"),i=n("TSYQ"),l=n("ldG2"),o=n("xADF"),s=n("dKnb"),r=n("jh7f"),c=n("VET0"),m=n("ZgM/");const d={
large:l.b.FontSizeLarge,medium:l.b.FontSizeMedium},h={attachment:c.a.top.attachment,targetAttachment:c.a.top.targetAttachment,attachmentOffsetY:-4};function u(e){const{className:t,inputClassName:n,stretch:l=!0,errorMessage:c,fontSizeStyle:u="large",endSlot:p,button:b,error:g,warning:y,innerLabel:C,inputReference:v,children:T,...S}=e,f=g&&void 0!==c?[c]:void 0,_=y&&void 0!==c?[c]:void 0,A=i(m.inputContainer,d[u],t),k=C?a.createElement(o.d,{className:m.innerLabel,interactive:!1},C):void 0,w=p||b||T?a.createElement(o.b,null,p,b,T):void 0;return a.createElement(s.a,{...S,className:A,inputClassName:n,errors:f,warnings:_,hasErrors:g,hasWarnings:y,messagesPosition:r.a.Attached,customErrorsAttachment:h,messagesRoot:"document",inheritMessagesWidthFromTarget:!0,disableMessagesRtlStyles:!0,iconHidden:!0,stretch:l,reference:v,startSlot:k,endSlot:w})}}}]);