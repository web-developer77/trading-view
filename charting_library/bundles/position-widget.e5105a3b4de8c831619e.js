(window.webpackJsonp=window.webpackJsonp||[]).push([["position-widget"],{"/f/q":function(e,t,o){},"7//y":function(e,t,o){"use strict";var s=o("q1tI"),n=o("TSYQ"),l=o("Iivm"),i=o("oWMF"),r=o("ZZTB"),a=o("c6oV"),c=o("SJs6"),u=o("K5qS");o("/f/q");const d={danger:r,warning:r,success:c,default:a};function p(e){const{informerIntent:t,content:o,className:r,header:a,isIconShown:c=!0,isCloseButtonShown:p,icon:m,onCloseClick:h,closeButtonLabel:b="Close"}=e;return s.createElement("div",{className:n(u.container,u["container-"+t],r)},c&&s.createElement(l.a,{className:u.icon,icon:null!=m?m:d[t]}),s.createElement("div",{className:u["text-wrap"]},s.createElement("span",{className:u.header},a)," ",o),p&&s.createElement(i.a,{"aria-label":b,onClick:h,className:u["close-button"],size:"xs"}))}o.d(t,"a",(function(){return p}))},ByBs:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9 9" width="9" height="9"><path stroke="currentColor" stroke-width="1.2" d="M1 1l7 7m0-7L1 8"/></svg>'},CWem:function(e,t,o){"use strict";o.r(t);var s=o("q1tI"),n=o("i8i4"),l=o("FQhm"),i=o("AVTG"),r=o("WXjp"),a=o("/KDZ"),c=o("oykh"),u=o("k/ZQ"),d=o("twDL"),p=o("en3B"),m=o("/qCs"),h=o("Rxoo");function b(e){return s.createElement("div",{className:h.positionInfo},s.createElement("div",{className:h.title},e.title),s.createElement(m.a,{rows:e.infoTableData.rows,header:e.infoTableData.header,disabled:!1,rightAlignedValues:!0}))}class w extends s.PureComponent{constructor(e){super(e),this._updateInfoTableData=e=>{this.setState({infoTableData:e})},this.state={title:e.model.title(),infoTableData:e.model.infoTableData().value()}}componentDidMount(){this._subscribeToModel(this.props.model)}componentWillUnmount(){this._unsubscribeFromModel(this.props.model)}render(){return s.createElement(b,{title:this.state.title,infoTableData:this.state.infoTableData})}_subscribeToModel(e){e.infoTableData().subscribe(this._updateInfoTableData)}_unsubscribeFromModel(e){e.infoTableData().unsubscribe(this._updateInfoTableData)}}var f=o("7//y"),g=o("NbG7"),v=o("/3z9"),k=o("A/IL"),C=o("YSy0");class M extends s.PureComponent{constructor(e){super(e),this._block=null,this._setRef=e=>{this._block=e},this._onEnter=e=>{13===Object(v.hashFromEvent)(e)&&!1===this.props.model.disabled.value()&&this.props.model.doneButtonClick()},this._callback=()=>this.forceUpdate()}componentDidMount(){this._subscribeToModel(this.props.model),this.props.settings.subscribe(this._callback),null!==this._block&&void 0===this.props.focus&&this._block.focus()}componentWillUnmount(){this._unsubscribeFromModel(this.props.model),this.props.settings.unsubscribe(this._callback)}render(){const{model:e,settings:t,focus:o}=this.props,n={value:t.value(),setValue:t.setValue.bind(t)},l=e.warning.value();return s.createElement(g.a.Provider,{value:n},s.createElement("div",{className:C.positionWidget,onKeyDown:this._onEnter,tabIndex:-1,ref:this._setRef},s.createElement(c.a,{model:e.headerModel,supportBrackets:!0,currency:e.currency,mode:e.mode.value(),showRiskControls:e.showRiskControls
}),s.createElement("div",{className:C.brackets},s.createElement(u.a,{model:e,focus:o})),Array.isArray(e.customFieldModels.value())&&e.customFieldModels.value().length>0&&s.createElement("div",{className:C.customFieldsWrapper},s.createElement("div",{className:C.separator}),s.createElement(k.a,{customFieldModels:e.customFieldModels.value(),status:e.status})),l&&s.createElement(f.a,{className:C.warning,content:l,informerIntent:"default"}),s.createElement("div",{className:C.button},s.createElement(d.a,{model:e})),e.mode.value()===p.g.Panel&&null!==e.positionInfoModel&&e.positionInfoModel.infoTableData.length>0&&s.createElement(s.Fragment,null,s.createElement("div",{className:C.separator}),s.createElement(w,{"data-name":"position-info",model:e.positionInfoModel}))))}_subscribeToModel(e){this.props.model.disabled.subscribe(this._callback),this.props.model.loading.subscribe(this._callback),this.props.model.mode.subscribe(this._callback),this.props.model.warning.subscribe(this._callback)}_unsubscribeFromModel(e){this.props.model.disabled.unsubscribe(this._callback),this.props.model.loading.unsubscribe(this._callback),this.props.model.mode.unsubscribe(this._callback),this.props.model.warning.unsubscribe(this._callback)}}var x=o("uhCe"),_=o("ZjKI"),E=o("ahhv");class y extends s.PureComponent{constructor(e){super(e),this._onKeyDown=e=>{27===e.keyCode&&this.props.onClose&&this.props.onClose()},this._handleClose=()=>{var e,t;null===(t=(e=this.props).onClose)||void 0===t||t.call(e)}}componentDidMount(){l.subscribe(_.CLOSE_POPUPS_AND_DIALOGS_COMMAND,this._handleClose,null)}componentWillUnmount(){l.unsubscribe(_.CLOSE_POPUPS_AND_DIALOGS_COMMAND,this._handleClose,null)}render(){return s.createElement(a.a,{rule:x.a.TabletSmall},e=>s.createElement(r.a,{className:E.dialog,isOpened:this.props.isOpened,onKeyDown:this._onKeyDown,width:414,fullscreen:e},s.createElement(i.a,{className:E.dialogBody},this.props.model&&this.props.settings&&s.createElement(M,{settings:this.props.settings,model:this.props.model,key:this.props.model.id,focus:this.props.focus}))))}}var B=o("O51n");class D extends s.PureComponent{constructor(e){super(e),this._onKeyDown=e=>{27===e.keyCode&&this.props.onCancel&&this.props.onCancel()}}render(){return s.createElement("div",{className:B.positionPanel,onKeyDown:this._onKeyDown},s.createElement(M,{settings:this.props.settings,model:this.props.model,focus:this.props.focus,key:this.props.model.id}))}}o.d(t,"showPositionDialog",(function(){return I})),o.d(t,"closePositionDialog",(function(){return P})),o.d(t,"mountPositionPanel",(function(){return S})),o.d(t,"unmountPositionPanel",(function(){return K}));let N=null;function I(e,t,o){P();const s={model:e,settings:t,isOpened:!0,focus:o,onClose:()=>{P(),e.onDoneButtonClicked.reject(),s.model.headerModel.pinButtonClicked().unsubscribe(null,s.onClose),s.model.headerModel.closeButtonClicked().unsubscribe(null,s.onClose),N&&n.unmountComponentAtNode(N)}};T(s),s.model.headerModel.pinButtonClicked().subscribe(null,s.onClose),
s.model.headerModel.closeButtonClicked().subscribe(null,s.onClose)}function P(){T({model:null,isOpened:!1})}function T(e){N||(N=document.createElement("div"),document.body.appendChild(N));const t=s.createElement(p.f.Provider,{value:{mode:e.model&&e.model.mode.value()||p.g.Panel,supportTrailingStop:Boolean(e.model&&e.model.supportTrailingStop)}},s.createElement(y,{...e}));n.render(t,N)}function S(e,t,o,l){K(e,o);const i={model:e,settings:t,focus:l,onClose:()=>{K(e,o),i.model.headerModel.pinButtonClicked().unsubscribe(null,i.onClose),i.model.headerModel.closeButtonClicked().unsubscribe(null,i.onClose)},onCancel:()=>{i.model.headerModel&&i.model.headerModel.back()}};i.model.headerModel.pinButtonClicked().subscribe(null,i.onClose),i.model.headerModel.closeButtonClicked().subscribe(null,i.onClose),function(e,t){const o=s.createElement(p.f.Provider,{value:{mode:e.model.mode.value(),supportTrailingStop:Boolean(e.model.supportTrailingStop)}},s.createElement(D,{...e}));n.render(o,t)}(i,o)}function K(e,t){n.unmountComponentAtNode(t)}},K5qS:function(e){e.exports=JSON.parse('{"container":"container-9ckn123c","container-danger":"container-danger-3U4WdGto","icon":"icon-2ZK1Y3zH","header":"header-287NeSeQ","container-warning":"container-warning-1jkRTadj","container-success":"container-success-2srhYBbo","container-default":"container-default-2MDEpAUG","text-wrap":"text-wrap-26IUyzzc","close-button":"close-button-2LkcSirN"}')},KkTf:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 17" width="17" height="17"><path stroke="currentColor" stroke-width="1.2" d="M1 1l15 15m0-15L1 16"/></svg>'},LeKP:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 11" width="11" height="11"><path stroke="currentColor" stroke-width="1.2" d="M1 1l9 9m0-9l-9 9"/></svg>'},N9IK:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 23 23" width="23" height="23"><path stroke="currentColor" stroke-width="1.2" d="M1 1l21 21m0-21L1 22"/></svg>'},O51n:function(e,t,o){e.exports={positionPanel:"positionPanel-JKJMXNzQ"}},Rxoo:function(e,t,o){e.exports={positionInfo:"positionInfo-gdwULvBb",title:"title-gdwULvBb"}},SJs6:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" fill-rule="evenodd" d="M9 0a9 9 0 1 0 0 18A9 9 0 0 0 9 0zm4.15 5.87a.75.75 0 0 0-1.3-.74l-3.51 6.15-2.31-2.31a.75.75 0 0 0-1.06 1.06l3 3a.75.75 0 0 0 1.18-.16l4-7z"/></svg>'},YSy0:function(e,t,o){e.exports={positionWidget:"positionWidget-1lIcWKyL",separator:"separator-1lIcWKyL",brackets:"brackets-1lIcWKyL",customFieldsWrapper:"customFieldsWrapper-1lIcWKyL",warning:"warning-1lIcWKyL",button:"button-1lIcWKyL"}},ZZTB:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M9 0a9 9 0 1 0 0 18A9 9 0 0 0 9 0zM7.75 5.48a1.27 1.27 0 1 1 2.5 0l-.67 4.03a.59.59 0 0 1-1.16 0l-.67-4.03zM8 13a1 1 0 1 1 2 0 1 1 0 0 1-2 0z"/></svg>'},ahhv:function(e,t,o){e.exports={
dialog:"dialog-j5USH1y6",dialogBody:"dialogBody-j5USH1y6"}},c6oV:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M9 0a9 9 0 1 0 0 18A9 9 0 0 0 9 0zm1 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM9 8a1 1 0 0 1 1 1v4a1 1 0 1 1-2 0V9a1 1 0 0 1 1-1z"/></svg>'},oWMF:function(e,t,o){"use strict";o.d(t,"a",(function(){return m}));var s=o("q1tI"),n=o("TSYQ"),l=o("Iivm"),i=o("N9IK"),r=o("KkTf"),a=o("zvJH"),c=o("LeKP"),u=o("ByBs"),d=o("yMrP");o("wk5D");function p(e="l"){switch(e){case"l":return i;case"m":return r;case"s":return a;case"xs":return c;case"xxs":return u;default:return r}}const m=s.forwardRef((e,t)=>{const{className:o,size:i,...r}=e,a=n(d["close-button"],d["button-"+i],o);return s.createElement("button",{...r,type:"button",className:a,ref:t},s.createElement(l.a,{icon:p(i),className:d["close-icon"]}))})},wk5D:function(e,t,o){},yMrP:function(e){e.exports=JSON.parse('{"close-button":"close-button-1WFSq2PU","close-icon":"close-icon-3unB1Yrw","button-l":"button-l-uIo2rThA","button-m":"button-m-3MMteafV","button-s":"button-s-Nv9EL6Kl","button-xs":"button-xs-3f-PiL7F","button-xxs":"button-xxs-1ElYVuPk"}')},zvJH:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 13" width="13" height="13"><path stroke="currentColor" stroke-width="1.2" d="M1 1l11 11m0-11L1 12"/></svg>'}}]);